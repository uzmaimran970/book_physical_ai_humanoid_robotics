---
sidebar_position: 5
title: "باب 4: نقل و حرکت اور توازن کنٹرول"
description: "دو پیروں پر چلنا، ZMP، اور ماڈل پیشین گوئی کنٹرول"
keywords: [bipedal locomotion, zmp, balance control, walking, gait generation]
reading_time: 6
difficulty: advanced
word_count: 4200
---

# باب 4: نقل و حرکت اور توازن کنٹرول

**مشکل:** جدید
**پڑھنے کا وقت:** 6 منٹ
**الفاظ کی تعداد:** ~4,200 الفاظ

## جائزہ

دو پیروں پر چلنا ہیومنائڈ روبوٹکس کے سب سے چیلنجنگ پہلوؤں میں سے ایک ہے۔ یہ باب Zero Moment Point (ZMP)، Model Predictive Control (MPC)، اور جدید چال پیدا کرنے کی تکنیکوں کی کھوج کرتا ہے۔

## دو پیروں پر چلنا مشکل کیوں ہے؟

### بنیادی چیلنجز

**عدم استحکام**
- چار (چوپایوں) کے مقابلے میں رابطے کے دو نقاط
- اونچا مرکز ثقل
- چھوٹا سپورٹ polygon
- مسلسل متحرک توازن کی ضرورت

**Underactuation**
- تمام coordinates کو براہ راست کنٹرول نہیں کر سکتے
- کشش ثقل نیچے کھینچتی ہے، لیکن ہم "اوپر دھکیل" نہیں سکتے
- طبیعیات کی رکاوٹوں کے اندر کام کرنا ضروری ہے

**اعلیٰ جہتی**
- نچلے جسم میں 10+ DOF
- پیچیدہ ہم آہنگی
- غیر لکیری dynamics

## استحکام کے تصورات

### Static استحکام

**تعریف**: Center of Mass (CoM) کی projection سپورٹ polygon کے اندر رہتی ہے

**خصوصیات:**
- سست، سوچ سمجھ کر حرکات
- ہمیشہ مستحکم
- توانائی کے لحاظ سے غیر موثر
- ابتدائی ہیومنائڈز نے استعمال کیا

### Dynamic استحکام

**تعریف**: رفتار اور کنٹرول کا استعمال کرتے ہوئے توازن برقرار رکھنا

**خصوصیات:**
- تیز، موثر چلنا
- کنٹرول شدہ گرنا اور بحالی
- توانائی موثر
- جدید ہیومنائڈ طریقہ

## Zero Moment Point (ZMP)

### نظریہ

**ZMP تعریف**: زمین پر وہ نقطہ جہاں زمینی رد عمل قوتوں سے خالص moment صفر ہے

**ZMP معیار**: مستحکم چلنے کے لیے، ZMP سپورٹ polygon کے اندر رہنا چاہیے

```
اگر ZMP ∈ سپورٹ Polygon → مستحکم
اگر ZMP ∉ سپورٹ Polygon → غیر مستحکم (گرنا)
```

### ZMP حساب

```
دیا گیا:
- CoM پوزیشن: (x_com, y_com, z_com)
- CoM سرعت: (ẍ_com, ÿ_com, z̈_com)
- کشش ثقل: g

ZMP coordinates:
x_zmp = x_com - (z_com / (z̈_com + g)) × ẍ_com
y_zmp = y_com - (z_com / (z̈_com + g)) × ÿ_com
```

### ZMP پر مبنی کنٹرول

1. مطلوبہ CoM trajectory کی منصوبہ بندی کریں
2. نتیجہ میں ZMP کا حساب لگائیں
3. اگر ZMP سپورٹ polygon سے باہر نکلے، trajectory میں ترمیم کریں
4. مطلوبہ CoM حرکت کے لیے joint trajectories بنائیں

## چال کی تخلیق

### چلنے کے مراحل

**Single Support مرحلہ**
- ایک پیر زمین پر
- دوسرا پیر جھولتا ہوا
- کم سے کم مستحکم مرحلہ

**Double Support مرحلہ**
- دونوں پیر زمین پر
- پیروں کے درمیان وزن منتقل کریں
- زیادہ مستحکم، سست

**Flight مرحلہ (دوڑنا)**
- دونوں پیر زمین سے اوپر
- درست لینڈنگ کی ضرورت
- اعلیٰ توانائی، اعلیٰ خطرہ

### چال کے پیرامیٹرز

- **Step length**: قدموں کے درمیان فاصلہ
- **Step width**: lateral علیحدگی
- **Step height**: پیر کتنا اونچا اٹھایا جاتا ہے
- **Step frequency**: فی سیکنڈ قدم
- **Duty cycle**: وقت کا حصہ جب پیر زمین پر ہو

### Pattern جنریٹرز

**پہلے سے پروگرام شدہ Patterns**
- مقررہ joint trajectories
- محدود موافقت
- تیز، کم کمپیوٹ

**Central Pattern Generators (CPG)**
- حیاتیاتی سے متاثر neural oscillators
- تال میل حرکت کی تخلیق
- Phase-locked ہم آہنگی

**Optimization پر مبنی**
- Trajectory optimization
- Cost function (توانائی، استحکام)
- آن لائن دوبارہ حساب

## Model Predictive Control (MPC)

### تصور

**خیال**: مستقبل کی روبوٹ state کی پیش گوئی کریں، horizon پر کنٹرول کو بہتر بنائیں

**عمل:**
1. موجودہ state کی پیمائش کریں
2. اگلے N timesteps کی پیش گوئی کریں
3. قیمت کو کم کرنے کے لیے کنٹرول کو بہتر بنائیں
4. پہلا کنٹرول action لاگو کریں
5. دہرائیں (receding horizon)

### فوائد

- رکاوٹوں کو ہینڈل کرتا ہے (ZMP، joint limits)
- بہترین کنٹرول
- پیشین گوئی: رکاوٹوں کا اندازہ لگاتا ہے
- جدید ہیومنائڈز میں وسیع پیمانے پر استعمال

### چیلنجز

- حسابی قیمت
- درست ماڈل کی ضرورت
- ریئل ٹائم optimization کی ضرورت

## Whole-Body کنٹرول

### Task کی ترتیب

**ترجیح 1 (اہم)**
- توازن اور استحکام
- تصادم سے بچنا
- Joint limits

**ترجیح 2 (اہم)**
- مطلوبہ پیر کی جگہ
- CoM trajectory
- کرنسی

**ترجیح 3 (اختیاری)**
- بازو کا جھولنا
- سر کی سمت
- توانائی کی کمی

### Quadratic Programming (QP)

کنٹرول کو optimization کے طور پر تشکیل دیں:

```
کم سے کم کریں: |Jq̇ - ẋ_desired|² + regularization
مشروط:
- Joint velocity limits
- Torque limits
- ZMP constraints
- Contact constraints
```

## Push بحالی

### حکمت عملی

**Ankle حکمت عملی**
- چھوٹی رکاوٹیں
- ٹخنوں پر گھومیں
- پیر مقرر رکھیں

**Hip حکمت عملی**
- درمیانی رکاوٹیں
- کولہے کے ساتھ CoM منتقل کریں
- تیز CoM ایڈجسٹمنٹ

**Step حکمت عملی**
- بڑی رکاوٹیں
- اصلاحی قدم اٹھائیں
- سپورٹ polygon بڑھاتا ہے

### پتہ لگانا اور جواب

```
1. رکاوٹ کا پتہ لگائیں (IMU، قوت سینسرز)
2. CoM state کا اندازہ لگائیں
3. مستقبل کے ZMP کی پیش گوئی کریں
4. بحالی کی حکمت عملی منتخب کریں
5. اصلاحی حرکت پر عمل کریں
```

## خطہ کی موافقت

### ناہموار سطحیں

**چیلنجز:**
- نامعلوم اونچائی کے تغیرات
- پھسلن یا لچکدار سطحیں
- رکاوٹیں

**طریقے:**
- Vision پر مبنی خطہ میپنگ
- Compliance کنٹرول
- موافقت پذیر پیر کی جگہ

### سیڑھیاں

**چڑھنا:**
- CoM کو اونچا اٹھائیں
- درست پیر کی جگہ
- زیادہ کولہے کا جھکاؤ

**اترنا:**
- کنٹرول شدہ کمی
- بڑے قدم
- توازن اہم

## توانائی کی کارکردگی

### Passive Dynamics

**Passive Walkers**
- کسی کنٹرول کے بغیر ڈھلوانوں پر چلیں
- قدرتی pendulum dynamics کا فائدہ اٹھائیں
- موثر چال کے لیے الہام

**Limit Cycles**
- قدرتی oscillations
- کم سے کم توانائی کی ان پٹ
- خود استحکام

### Optimization

**کم سے کم کریں:**
- Joint torques (توانائی)
- Jerk (ہمواری)
- Impact قوتیں

**نتیجہ:**
- قدرتی نظر آنے والی حرکت
- بیٹری کی زندگی میں اضافہ
- کم wear

## Learning پر مبنی طریقے

### Reinforcement Learning

**Deep RL for Locomotion:**
- سیمولیشن میں شروع سے سیکھیں
- حقیقی روبوٹ میں منتقل کریں (sim-to-real)
- خطہ کے لیے موافقت پذیر
- مثال: DeepMimic، ANYmal

**چیلنجز:**
- Sample efficiency
- Sim-to-real gap
- سیکھنے کے دوران حفاظت

### Imitation Learning

- انسانی مظاہروں سے سیکھیں
- Motion capture ڈیٹا
- روبوٹ morphology میں Retargeting

## عملی نفاذ

### Atlas (Boston Dynamics)

- ہائیڈرولک actuation
- اعلیٰ طاقت، تیز جواب
- توازن کے لیے MPC
- قدموں کے ذریعے Push بحالی

### Cassie (Agility Robotics)

- الیکٹرک ایکچویٹرز
- Underactuated ڈیزائن
- Passive dynamics کا فائدہ
- بیرونی خطہ کی صلاحیت

### Digit (Agility Robotics)

- توازن کے لیے دھڑ اور بازو
- تجارتی تعیناتی
- سیڑھیاں چڑھنا
- پیکج ڈیلیوری

## جانچ اور توثیق

### سیمولیشن

- طبیعیات انجن (MuJoCo، PyBullet)
- محفوظ طریقے سے الگورتھم کی توثیق کریں
- پیرامیٹر tuning
- Sim-to-real منتقلی

### ہارڈویئر ٹیسٹنگ

- Tethered testing (حفاظت)
- مشکل میں تدریجی اضافہ
- مضبوطی کے لیے Push ٹیسٹ
- طویل مدتی ٹرائلز

## مستقبل کی سمتیں

### Agile نقل و حرکت

- دوڑنا اور کودنا
- متحرک maneuvers
- Parkour جیسی صلاحیتیں

### انسان جیسی حرکت

- قدرتی چال کے نمونے
- حرکت میں اظہار
- سماجی قبولیت

### مضبوطی

- کسی بھی رکاوٹ سے بحال ہوں
- کسی بھی خطہ پر چلیں
- خراب موڈ آپریشن

## خلاصہ

دو پیروں پر چلنے کی ضرورت ہے:
- ZMP پر مبنی استحکام کے معیار
- پیشین گوئی کنٹرول کے لیے MPC
- Whole-body ہم آہنگی
- Push بحالی کی حکمت عملی
- توانائی موثر چال

جدید ہیومنائڈز مضبوط، موافقت پذیر چلنے کے لیے ماڈل پر مبنی کنٹرول کو مشین لرننگ کے ساتھ جوڑتے ہیں۔

## اہم نکات

✓ استحکام کے لیے ZMP کو سپورٹ polygon میں رہنا چاہیے
✓ MPC پیشین گوئی، بہترین کنٹرول کو فعال کرتا ہے
✓ Push بحالی ankle، hip، یا step حکمت عملی استعمال کرتی ہے
✓ Learning پر مبنی طریقے موافقت کو بہتر بناتے ہیں
✓ Passive dynamics کے ذریعے توانائی کی کارکردگی

---

**پچھلا:** [باب 3: سینسرز اور ادراک کے نظام](./chapter-3.md)
**اگلا:** [باب 5: ہیرا پھیری اور پکڑنا](./chapter-5.md)
